<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI顾客生成器</title>
    <link rel="stylesheet" href="/static/style.css">
    <style>
        body { font-family: sans-serif; margin: 20px; background-color: #f4f7f6; color: #333; }
        .container { max-width: 1000px; margin: auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        textarea { width: 98%; min-height: 150px; padding: 10px; border-radius: 4px; border: 1px solid #ddd; margin-bottom: 10px; font-size: 1em; }
        button { padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1em; transition: background-color 0.3s; }
        button:hover { background-color: #0056b3; }
        button:disabled { background-color: #ccc; cursor: not-allowed; }
        .loading-spinner { border: 4px solid #f3f3f3; border-top: 4px solid #007bff; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 20px auto; display: none; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .results-area { margin-top: 20px; }
        .product-summary { background-color: #e9f5ff; padding: 15px; border-left: 5px solid #007bff; margin-bottom: 20px; border-radius: 4px; }
        .customer-profiles-container { display: flex; flex-wrap: wrap; gap: 20px; }
        .profile-card { background-color: #f9f9f9; border: 1px solid #eee; border-radius: 6px; padding: 15px; width: calc(50% - 10px); box-sizing: border-box; cursor: pointer; transition: box-shadow 0.3s; }
        .profile-card:hover { box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .profile-card.active { border-left: 5px solid #28a745; background-color: #e6ffed;}
        .profile-card h3 { margin-top: 0; color: #0056b3; }
        .profile-card p { font-size: 0.9em; line-height: 1.5; margin-bottom: 8px; }
        .profile-card strong { color: #333; }
        .questions-display-container { margin-top: 20px; padding: 15px; background-color: #fff; border: 1px solid #ddd; border-radius: 6px; display:none; /* Initially hidden */}
        .questions-list h4 { margin-top: 0; }
        .questions-list ul { list-style-type: decimal; padding-left: 20px; }
        .questions-list li { padding: 5px 0; border-bottom: 1px dashed #eee; }
        .questions-list li:last-child { border-bottom: none; }
        .b2b-questions, .b2c-questions { margin-bottom: 20px; } /* Add margin between B2B and B2C lists */
        .error-message-box { color: red; border: 1px solid red; background-color: #ffebeb; padding: 10px; margin-top: 15px; border-radius: 4px; }
        @media (max-width: 768px) { .profile-card { width: 100%; } }
    </style>
</head>
<body>
    <div class="container">
        <h1>AI外贸顾客画像与问题生成器 (MVP)</h1>
        <div class="input-section">
            <h2>1. 输入产品信息</h2>
            <textarea id="product-info" placeholder="在此处粘贴您的产品文档、规格、特点、目标市场等信息..."></textarea>
            <label for="num-profiles">生成画像数量 (1-10):</label>
            <input type="number" id="num-profiles" value="3" min="1" max="10" style="width: 60px; margin-right: 20px;">
            <label for="num-questions">每个画像的总问题数 (2-10):</label>
            <input type="number" id="num-questions" value="6" min="2" max="10" style="width: 60px;">
            <br><br>
            <button id="generate-button">生成AI顾客数据</button>
        </div>

        <div id="loading-spinner" class="loading-spinner"></div>
        <div id="error-box" class="error-message-box" style="display:none;"></div>

        <div class="results-area">
            <h2>2. AI生成结果</h2>
            <div id="product-summary-container" class="product-summary" style="display:none;">
                <h3>产品摘要 (AI理解)</h3>
                <p id="product-summary-text"></p>
            </div>
            <div id="customer-profiles-display" class="customer-profiles-container"></div>

            <div id="questions-display-container" class="questions-display-container"> <h3 id="selected-profile-name-header"></h3>
                <div class="b2b-questions questions-list">
                    <h4>B2B (面向企业) 问题:</h4>
                    <ul id="b2b-questions-ul"></ul>
                </div>
                <div class="b2c-questions questions-list">
                    <h4>B2C (面向个人客户) 问题:</h4>
                    <ul id="b2c-questions-ul"></ul>
                </div>
            </div>
        </div>
    </div>
    <script src="/static/ai_customer_generator_script.js"></script>
</body>
</html>